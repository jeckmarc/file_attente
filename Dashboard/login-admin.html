<!DOCTYPE html>
<html lang="fr" ng-app="loginApp">
<head>
  <meta charset="UTF-8">
  <title>Connexion - Banque</title>
  <link rel="stylesheet" href="style-loginaad.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>
<body ng-controller="LoginController">

  <div class="login-container">
    <h2>Connexion</h2>

    <!-- üîê Formulaire de connexion -->
    <div ng-if="!showForgot">
      <input type="text" ng-model="login.username" placeholder="Nom d'utilisateur" required>
      <input type="password" ng-model="login.password" placeholder="Mot de passe" required>
      <button ng-click="seConnecter()">Se connecter</button>

      <span class="forgot-link" ng-click="toggleForgot()">Mot de passe oubli√© ?</span>
    </div>

    <!-- ‚úâÔ∏è Formulaire de r√©initialisation -->
    <div ng-if="showForgot">
      <input type="email" ng-model="resetEmail" placeholder="Entrez votre adresse e-mail" required>
      <button ng-click="envoyerReinitialisation()">Envoyer un lien de r√©initialisation</button>

      <span class="forgot-link" ng-click="toggleForgot()">‚Üê Retour √† la connexion</span>

      <div class="success-message" ng-if="messageEnvoye">
        ‚úîÔ∏è Un lien a √©t√© envoy√© √† votre e-mail.
      </div>
    </div>
  </div>

  <script>
    angular.module('loginApp', [])
      .controller('LoginController', ['$scope', function($scope) {
        $scope.login = {};
        $scope.showForgot = false;
        $scope.resetEmail = '';
        $scope.messageEnvoye = false;

        $scope.seConnecter = function () {
          if ($scope.login.username === 'admin' && $scope.login.password === 'admin123') {
            // ‚úÖ Connexion r√©ussie
            window.location.href = 'dashboard.html'; // Redirige vers ton dashboard
          } else {
            // ‚ùå Erreur
            alert("Identifiants incorrects. Veuillez r√©essayer.");
          }
        };
        

        $scope.toggleForgot = function () {
          $scope.showForgot = !$scope.showForgot;
          $scope.messageEnvoye = false;
          $scope.resetEmail = '';
        };

        $scope.envoyerReinitialisation = function () {
          if ($scope.resetEmail) {
            $scope.messageEnvoye = true;
            console.log("Lien de r√©initialisation envoy√© √† :", $scope.resetEmail);
          }
        };
      }]);
  </script>
</body>
</html>
